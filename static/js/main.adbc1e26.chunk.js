(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,a,t){e.exports=t(328)},195:function(e,a,t){},198:function(e,a,t){},328:function(e,a,t){"use strict";t.r(a);var n,r=t(1),c=t.n(r),i=t(17),s=t.n(i),o=(t(195),t(21)),l=t.n(o),u=t(36),d=t(75),p=t(20),m=t.n(p),g=(t(198),t(16)),h={ACE:14,KING:13,QUEEN:12,JACK:11},y="Higher",f=[y,"Lower"],w=new Audio("flip-card.mp3"),v=new Audio("shuffling-cards-1.mp3"),E=function(e){return e.json()},b=function(e){return Object(g.a)({},e,{cards:e.cards.map(function(e){return Object(g.a)({},e,{value:h[e.value]||+e.value})})})},k=function(e){return fetch("https://deckofcardsapi.com/api/deck/".concat(e,"/draw/?count=1")).then(E).then(b)},C=function(e){return fetch("https://deckofcardsapi.com/api/deck/".concat(e,"/shuffle/")).then(E)};function R(e,a){return void 0===a?{type:e}:{type:e,payload:a}}!function(e){e.cardFlip="CARD_FLIP",e.cardReplace="CARD_REPLACE",e.deckSet="DECK_SET",e.guessCorrect="GUESS_CORRECT",e.guessIncorrect="GUESS_INCORRECT",e.guessPending="GUESS_PENDING",e.playerPass="PLAYER_PASS",e.playerRename="PLAYER_RENAME",e.modalRulesToggle="MODAL_RULES_TOGGLE"}(n||(n={}));var j={cardFlip:function(e){return R(n.cardFlip,e)},cardReplace:function(e){return R(n.cardReplace,e)},deckSet:function(e){return R(n.deckSet,e)},guessCorrect:function(e){return R(n.guessCorrect,e)},guessIncorrect:function(e){return R(n.guessIncorrect,e)},guessPending:function(){return R(n.guessPending)},playerPass:function(){return R(n.playerPass)},playerRename:function(e,a){return R(n.playerRename,{name:e,id:a})},modalRulesToggle:function(){return R(n.modalRulesToggle)}},I=t(117),O={activePlayer:0,correctGuesses:0,deckId:"",flippedCard:null,isGuessing:!1,pile:[],players:[{id:"1",name:"Player One",pile:[]},{id:"2",name:"Player Two",pile:[]}],remaining:52,showRulesModal:!1},P=function(e,a){switch(a.type){case n.cardFlip:return Object(g.a)({},e,{flippedCard:a.payload.cards[0],remaining:a.payload.remaining});case n.cardReplace:return Object(g.a)({},e,{pile:a.payload.cards,remaining:a.payload.remaining});case n.deckSet:return Object(g.a)({},O,{deckId:a.payload.deck_id,pile:a.payload.cards,remaining:a.payload.remaining});case n.guessCorrect:return Object(g.a)({},e,{correctGuesses:e.correctGuesses+1,flippedCard:null,isGuessing:!1,pile:[a.payload].concat(Object(I.a)(e.pile))});case n.guessIncorrect:return Object(g.a)({},e,{correctGuesses:0,flippedCard:null,isGuessing:!1,pile:[],players:e.players.map(function(t,n){return n===e.activePlayer?Object(g.a)({},t,{pile:t.pile.concat(e.pile,a.payload)}):t})});case n.guessPending:return Object(g.a)({},e,{isGuessing:!0});case n.playerPass:return Object(g.a)({},e,{activePlayer:1===e.activePlayer?0:1,correctGuesses:0});case n.playerRename:return Object(g.a)({},e,{players:e.players.map(function(e){return e.id===a.payload.id?Object(g.a)({},e,{name:a.payload.name}):e})});case n.modalRulesToggle:return Object(g.a)({},e,{showRulesModal:!e.showRulesModal});default:return e}},G=t(47),S=t.n(G),T=t(46),x=t.n(T),A=function(e){return c.a.createElement(x.a,{id:e.id,InputProps:{endAdornment:c.a.createElement(S.a,{position:"end"},"".concat(e.pile.length))},label:e.isActive?"Active":" ",onChange:e.onChange,style:{marginLeft:32,marginRight:32},value:e.name})},_=t(15),L=function(e){return c.a.createElement(_.a,{badgeContent:c.a.createElement(_.h,{placement:"top",title:e.showCardBack?"Cards in deck: ".concat(e.cardsInPile):"Card in pile: ".concat(e.cardsInPile)},c.a.createElement("span",null,e.cardsInPile)),color:e.showCardBack?"primary":"secondary"},c.a.createElement("div",{style:{backgroundImage:e.showCardBack?"url('cardback.png')":void 0,backgroundSize:e.showCardBack?"cover":void 0,height:"56vw",maxHeight:314,maxWidth:226,width:"40vw"}},e.image&&c.a.createElement("img",{src:e.image,style:{height:"auto",width:"100%"}})))},N=function(){var e=Object(r.useReducer)(P,O),a=Object(d.a)(e,2),t=a[0],n=a[1];function i(){return(i=Object(u.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.play(),e.next=3,C(t.deckId);case 3:window.setTimeout(Object(u.a)(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w.play(),e.next=3,k(t.deckId);case 3:a=e.sent,n(j.deckSet(a));case 5:case"end":return e.stop()}},e)})),600);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(e,a){return e===y?a.value>t.pile[0].value:a.value<t.pile[0].value}function o(){return(o=Object(u.a)(l.a.mark(function e(a){var r,c,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(j.guessPending()),w.play(),e.next=4,k(t.deckId);case 4:r=e.sent,c=r.cards[0],i=s(a,c),n(j.cardFlip(r)),window.setTimeout(Object(u.a)(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=4;break}n(j.guessCorrect(c)),e.next=9;break;case 4:return n(j.guessIncorrect(c)),e.next=7,k(t.deckId);case 7:a=e.sent,n(j.cardReplace(a));case 9:case"end":return e.stop()}},e)})),600);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){var a=e.currentTarget.id,t=e.currentTarget.value;n(j.playerRename(t,a))}function g(){n(j.modalRulesToggle())}Object(r.useEffect)(function(){v.play(),window.setTimeout(function(){k("new").then(function(e){n(j.deckSet(e))})},500)},[]);var h=0===t.remaining||t.remaining+t.pile.length<Math.abs(t.players[0].pile.length-t.players[1].pile.length),E=0===t.pile.length||t.isGuessing||h,b=t.pile[0]||{},R=t.flippedCard||{};return c.a.createElement("div",{style:{padding:16}},h&&c.a.createElement("div",{className:"pyro"},c.a.createElement("div",{className:"before"}),c.a.createElement("div",{className:"after"})),c.a.createElement(_.g,{component:"header",container:!0,direction:"column",alignItems:"center",style:{marginBottom:16}},h&&c.a.createElement("h2",null,function(){var e=t.players,a=e.map(function(e){return e.pile.length}),n=Object(d.a)(a,2),r=n[0],c=n[1];return r===c?"It's a tie!":"".concat(r<c?e[0].name:e[1].name," wins!")}()),c.a.createElement(_.g,{container:!0,justify:"center"},t.players.map(function(e,a){return c.a.createElement(A,Object.assign({},e,{isActive:t.activePlayer===a,onChange:p}))}))),c.a.createElement(_.g,{component:"main",container:!0,alignItems:"center",direction:"column"},c.a.createElement(_.g,{container:!0,justify:"center",style:{marginBottom:16},wrap:"nowrap"},c.a.createElement("div",{style:{margin:8}},c.a.createElement(L,Object.assign({},R,{cardsInPile:t.remaining,showCardBack:t.remaining>0}))),c.a.createElement("div",{style:{margin:8}},c.a.createElement(L,Object.assign({},b,{cardsInPile:t.pile.length})))),c.a.createElement("div",{className:"button-group"},c.a.createElement(_.g,{container:!0,justify:"center"},f.map(function(e){return c.a.createElement(m.a,{color:"primary",disabled:E,key:e,onClick:function(){return function(e){return o.apply(this,arguments)}(e)},role:"button",variant:"outlined"},e)}),c.a.createElement(m.a,{color:"primary",disabled:t.correctGuesses<3||!!t.flippedCard,onClick:function(){n(j.playerPass())},role:"button",variant:"contained"},"Pass".concat(t.correctGuesses<3?" (".concat(3-t.correctGuesses,")"):""))),c.a.createElement(_.g,{container:!0,justify:"center"},c.a.createElement(m.a,{onClick:function(){return i.apply(this,arguments)},role:"button",variant:"text"},"Reset Game"),c.a.createElement(m.a,{onClick:g,role:"buton",variant:"text"},"Review Ruleset")))),c.a.createElement(_.b,{"aria-labelledby":"rules-dialog-title",open:t.showRulesModal,onClose:g},c.a.createElement(_.f,{id:"rules-dialog-title"},"High Low: The Rules"),c.a.createElement(_.d,null,c.a.createElement(_.e,null,"This is a two-player, hot-seat card game where players take turns guessing whether the next flipped card will be higher or lower than the last. If the guessing player is incorrect they take the newly flipped card and all the cards that have accumulated in the discard pile. Each card is a point and the object is to end the game with the fewest points. If a player is able to make three correct guesses in a row they have the option to pass play to their opponent. Instead of passing a player may choose to continue guessing so as not to provide their opponent with a easy guess. However the active player only retains the ability to pass as long as they keep guessing correctly. If they guess incorrectly at any point the correct guess counter resets to zero.")),c.a.createElement(_.c,null,c.a.createElement(m.a,{autoFocus:!0,color:"primary",onClick:g},"Got it"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[190,1,2]]]);
//# sourceMappingURL=main.adbc1e26.chunk.js.map